<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÌÄ¥Ï¶à Ïï± - ÌòºÏûê ÌÄ¥Ï¶à</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="{{ url_for('dashboard') }}">üß† ÌÄ¥Ï¶à Ïï±</a>
            <div class="navbar-nav ms-auto d-flex align-items-center">
                <!-- ÌÖåÎßà ÏÑ§Ï†ï ÎìúÎ°≠Îã§Ïö¥ -->
                <div class="dropdown me-3">
                    <button class="btn btn-outline-light btn-sm dropdown-toggle" type="button" id="themeDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                        üé® ÌÖåÎßà
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="themeDropdown">
                        <li><button class="dropdown-item" onclick="setTheme('light')">‚òÄÔ∏è ÎùºÏù¥Ìä∏ Î™®Îìú</button></li>
                        <li><button class="dropdown-item" onclick="setTheme('dark')">üåô Îã§ÌÅ¨ Î™®Îìú</button></li>
                        <li><button class="dropdown-item" onclick="setTheme('auto')">‚öôÔ∏è ÏãúÏä§ÌÖú ÏÑ§Ï†ï</button></li>
                    </ul>
                </div>
                <span class="navbar-text me-3">{{ session.username }}Îãò</span>
                <a class="nav-link" href="{{ url_for('dashboard') }}">Î©îÏù∏ÏúºÎ°ú</a>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <!-- ÏÑ§Ï†ï ÌôîÎ©¥ -->
        <div id="setup-screen">
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <div class="card shadow">
                        <div class="card-header">
                            <h4 class="text-center">ÌÄ¥Ï¶à ÏÑ§Ï†ï</h4>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label class="form-label">Î∂ÑÏïº ÏÑ†ÌÉù (Îã§Ï§ë ÏÑ†ÌÉù Í∞ÄÎä•)</label>
                                        <div class="category-selection">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" name="categories" value="ÏùºÎ∞òÏÉÅÏãù" id="category1">
                                                <label class="form-check-label" for="category1">ÏùºÎ∞òÏÉÅÏãù</label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" name="categories" value="Ïó≠ÏÇ¨" id="category2">
                                                <label class="form-check-label" for="category2">Ïó≠ÏÇ¨</label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" name="categories" value="Í≥ºÌïô" id="category3">
                                                <label class="form-check-label" for="category3">Í≥ºÌïô</label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" name="categories" value="ÏãúÏÇ¨" id="category4">
                                                <label class="form-check-label" for="category4">ÏãúÏÇ¨</label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" name="categories" value="ÏòÅÌôî" id="category5">
                                                <label class="form-check-label" for="category5">ÏòÅÌôî</label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" name="categories" value="ÎìúÎùºÎßà" id="category6">
                                                <label class="form-check-label" for="category6">ÎìúÎùºÎßà</label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" name="categories" value="Í≤åÏûÑ" id="category7">
                                                <label class="form-check-label" for="category7">Í≤åÏûÑ</label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" name="categories" value="ÏõπÌà∞" id="category8">
                                                <label class="form-check-label" for="category8">ÏõπÌà∞</label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" name="categories" value="Ïï†ÎãàÎ©îÏù¥ÏÖò" id="category9">
                                                <label class="form-check-label" for="category9">Ïï†ÎãàÎ©îÏù¥ÏÖò</label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" name="categories" value="ÏàòÎèÑ" id="category10">
                                                <label class="form-check-label" for="category10">ÏàòÎèÑ</label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" name="categories" value="Ïó∞Ïï†Ïã¨Î¶¨" id="category11">
                                                <label class="form-check-label" for="category11">Ïó∞Ïï†Ïã¨Î¶¨</label>
                                            </div>
                                        </div>
                                        <button type="button" class="btn btn-sm btn-outline-primary mt-2" onclick="selectAllCategories()">Ï†ÑÏ≤¥ ÏÑ†ÌÉù</button>
                                        <button type="button" class="btn btn-sm btn-outline-secondary mt-2" onclick="clearAllCategories()">Ï†ÑÏ≤¥ Ìï¥Ï†ú</button>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="question-count" class="form-label">Î¨∏Ï†ú Ïàò</label>
                                        <select class="form-select" id="question-count">
                                            <option value="5" selected>5Î¨∏Ï†ú (Î¨∏Ï†úÎãπ 20Ï†ê)</option>
                                            <option value="10">10Î¨∏Ï†ú (Î¨∏Ï†úÎãπ 10Ï†ê)</option>
                                            <option value="20">20Î¨∏Ï†ú (Î¨∏Ï†úÎãπ 5Ï†ê)</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="text-center">
                                <button class="btn btn-primary btn-lg" onclick="startQuiz()">ÌÄ¥Ï¶à ÏãúÏûë!</button>
                                <a href="{{ url_for('dashboard') }}" class="btn btn-secondary btn-lg ms-2">ÎèåÏïÑÍ∞ÄÍ∏∞</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ÌÄ¥Ï¶à Í≤åÏûÑ ÌôîÎ©¥ -->
        <div id="quiz-screen" style="display: none;">
            <div class="row justify-content-center">
                <div class="col-md-10">
                    <!-- ÏÉÅÌÉú Î∞î -->
                    <div class="card mb-3">
                        <div class="card-body">
                            <div class="row text-center">
                                <div class="col-md-3">
                                    <h6>Î¨∏Ï†ú <span id="current-question">1</span> / <span id="total-questions">5</span></h6>
                                </div>
                                <div class="col-md-3">
                                    <h6>Ï†êÏàò: <span id="current-score">0</span> / 100Ï†ê</h6>
                                </div>
                                <div class="col-md-3">
                                    <h6>Ï†ïÎãµ: <span id="correct-count">0</span> / <span id="total-questions-2">5</span></h6>
                                </div>
                                <div class="col-md-3">
                                    <h6>ÎÇ®ÏùÄ ÏãúÍ∞Ñ: <span id="timer">30</span>Ï¥à</h6>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Î¨∏Ï†ú Ïπ¥Îìú -->
                    <div class="card shadow">
                        <div class="card-header">
                            <h5 id="question-category" class="mb-0"></h5>
                        </div>
                        <div class="card-body">
                            <h4 id="question-text" class="mb-4"></h4>
                            <div id="options-container">
                                <!-- ÏÑ†ÌÉùÏßÄÎì§Ïù¥ Ïó¨Í∏∞Ïóê ÎèôÏ†ÅÏúºÎ°ú Ï∂îÍ∞ÄÎê©ÎãàÎã§ -->
                            </div>
                        </div>
                    </div>

                    <!-- Îã§Ïùå Î≤ÑÌäº -->
                    <div class="text-center mt-4">
                        <button id="next-btn" class="btn btn-primary btn-lg" onclick="nextQuestion()" style="display: none;">Îã§Ïùå Î¨∏Ï†ú</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Í≤∞Í≥º ÌôîÎ©¥ -->
        <div id="result-screen" style="display: none;">
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <div class="card shadow">
                        <div class="card-header text-center">
                            <h4>ÌÄ¥Ï¶à ÏôÑÎ£å!</h4>
                        </div>
                        <div class="card-body text-center">
                            <div class="display-1 mb-3">üéâ</div>
                            <h3>ÏµúÏ¢Ö Ï†êÏàò: <span id="final-score">0</span>Ï†ê</h3>
                            <h5>Ï†ïÎãµÎ•†: <span id="final-accuracy">0</span>%</h5>
                            <p class="mt-3">Ï¥ù <span id="final-correct">0</span>Î¨∏Ï†úÎ•º ÎßûÌûàÏÖ®ÏäµÎãàÎã§!</p>
                            
                            <div class="mt-4">
                                <button class="btn btn-primary me-2" onclick="restartQuiz()">Îã§Ïãú ÏãúÏûë</button>
                                <a href="{{ url_for('dashboard') }}" class="btn btn-secondary">Î©îÏù∏ÏúºÎ°ú</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/solo_quiz.js') }}"></script>
</body>
</html>
